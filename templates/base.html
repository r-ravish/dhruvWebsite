{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}ShopVerse - Your Online Store{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body>
    <!-- Top Header Bar -->
    <header class="header">
        <div class="header-top">
            <div class="container">
                <div class="header-top-wrapper">
                    <!-- Logo -->
                    <a href="{% url 'home' %}" class="logo">
                        <span class="logo-shop">Shop</span><span class="logo-verse">Verse</span>
                    </a>
                    
                    <!-- Contact Info -->
                    <div class="header-contact">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                        1800-123-4567
                    </div>
                    
                    <!-- Search Bar -->
                    <div class="header-search">
                        <form action="{% url 'product_list' %}" method="get">
                            <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#999" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                            <input type="text" name="search" placeholder="What are you looking for?" value="{{ request.GET.search }}">
                        </form>
                    </div>
                    
                    <!-- Header Actions -->
                    <div class="header-actions">
                        <a href="{% url 'my_orders' %}" class="header-action">
                            <svg class="action-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                            <span class="action-text">Track Order</span>
                        </a>
                        
                        {% if user.is_authenticated %}
                            <a href="{% url 'my_orders' %}" class="header-action">
                                <svg class="action-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                                <span class="action-text">{{ user.username }}</span>
                            </a>
                        {% else %}
                            <a href="{% url 'login' %}" class="header-action">
                                <svg class="action-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                                <span class="action-text">Sign In & Sign Up</span>
                            </a>
                        {% endif %}
                        
                        <a href="#" class="header-action">
                            <svg class="action-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                            <span class="action-text">Wishlist</span>
                        </a>
                        
                        <a href="{% url 'cart' %}" class="header-action cart-action">
                            <svg class="action-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>
                            <span class="action-text">Cart</span>
                            {% if cart_total_quantity > 0 %}
                                <span class="cart-badge">{{ cart_total_quantity }}</span>
                            {% endif %}
                        </a>
                    </div>
                    
                    <!-- Mobile Menu Button -->
                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Navigation Bar -->
        <nav class="header-nav">
            <div class="container">
                <div class="nav-wrapper">
                    <ul class="nav-menu" id="navMenu">
                        <li><a href="{% url 'product_list' %}">ALL PRODUCTS</a></li>
                        <li><a href="{% url 'product_list' %}?category=new">NEW ARRIVALS</a></li>
                        <li><a href="{% url 'product_list' %}">BEST SELLERS</a></li>
                        <li><a href="{% url 'product_list' %}">TRENDING</a></li>
                        {% if user.is_authenticated %}
                            <li><a href="{% url 'my_orders' %}">MY ORDERS</a></li>
                        {% endif %}
                        {% if user.is_staff %}
                            <li><a href="{% url 'admin_dashboard' %}" class="nav-admin">ADMIN</a></li>
                        {% endif %}
                        <li><a href="{% url 'product_list' %}" class="nav-sale">SALE</a></li>
                        {% if user.is_authenticated %}
                            <li><a href="{% url 'logout' %}" class="nav-logout">LOGOUT</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
                <div class="message message-{{ message.tags }}">
                    {{ message }}
                    <button class="message-close">&times;</button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <main>
        {% block content %}
        {% endblock %}
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Online Shopping</h3>
                    <a href="{% url 'product_list' %}">All Products</a>
                    <a href="#">New Arrivals</a>
                    <a href="#">Best Sellers</a>
                    <a href="#">Offers</a>
                </div>
                <div class="footer-section">
                    <h3>Customer Policies</h3>
                    <a href="#">Contact Us</a>
                    <a href="#">FAQ</a>
                    <a href="#">Terms of Use</a>
                    <a href="#">Privacy Policy</a>
                </div>
                <div class="footer-section">
                    <h3>Useful Links</h3>
                    {% if user.is_authenticated %}
                        <a href="{% url 'my_orders' %}">Track Orders</a>
                        <a href="{% url 'my_orders' %}">My Orders</a>
                        <a href="{% url 'logout' %}">Logout</a>
                    {% else %}
                        <a href="{% url 'login' %}">Login</a>
                        <a href="{% url 'signup' %}">Sign Up</a>
                    {% endif %}
                </div>
                <div class="footer-section">
                    <h3>Keep in Touch</h3>
                    <p style="margin-bottom: 15px;">Subscribe to get updates on new arrivals and offers.</p>
                    <div style="display: flex; gap: 10px;">
                        <input type="email" placeholder="Enter email" style="flex: 1; padding: 10px; border: 1px solid #d4d5d9; border-radius: 4px;">
                        <button class="btn btn-primary">Subscribe</button>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ShopVerse. All rights reserved. | Made with ❤️</p>
            </div>
        </div>
    </footer>

    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>
